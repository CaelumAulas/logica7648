<meta charset="utf-8">

<h1>Jogo da Loteria</h1>

<button onclick="jogoAdivinhacao()">START</button>
<script src="https://bit.ly/2LRPvvD"></script>
<script src="pegaNumeroBrasileiro.js"></script>
<script>
    var numeroJogo = 0

    function jogoAdivinhacao() {
        numeroJogo = numeroJogo + 1
        
        var numeroMisterioso = parseInt(Math.random()*100)+1
        console.log("Numero misterioso:" + numeroMisterioso)
          
        var numeroChute = pegaNumeroBrasileiro("Adivinhe o número de 1 a 100")
        var contadorDeValidacoes=0
        // ENQUANTO o chute é invalido (não número OU maior que 100 OU menor que 1)
        while (isNaN(numeroChute) || numeroChute > 100 || numeroChute < 1) {
            // SE estourar limite de validações
            if (contadorDeValidacoes == 3) {
                alert("Game Over!")
                mostra(`
                    Jogo ${numeroJogo}
                    <br>
                    Perdeu por erro de validação
                `)
                return //sai da função
            }
            numeroChute = pegaNumeroBrasileiro("Número inválido! Adivinhe o número de 1 a 100")
            contadorDeValidacoes=contadorDeValidacoes+1
        }
        

        var resultado
        //SE numeroMisterioso igual a numeroChute, acertou; SENAO, errou
        if (numeroMisterioso == numeroChute) {
            resultado = "Acertou!"
        } else {
            resultado = "Errou!"
        }
        
        mostra(`
            Jogo ${numeroJogo}
            <br>
            ${resultado}
            <br>
            O número era ${numeroMisterioso}.
        `)
    }
</script>